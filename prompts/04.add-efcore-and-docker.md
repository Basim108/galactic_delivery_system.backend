**Role:** Act as a Senior .NET Backend Developer.
**Task:** Analyze the entire solution in the current directory and perform the following tasks use context7.

1. **Add Feature Management:**
    * Add **Feature Management** to the API and Infrastructure projects to use **Azure App Configuration
    * Configure the API to use the feature flags from Azure App Configuration for Staging and Production environments and from appsettings.Development.json for development environment.
    * Add a new feature flag `UseDomainPersistentStorage` for the use of persistent storage for domain entities.
      - When feature flag is enabled, then use repositories with EF Core.
      - When feature flag is disabled, then use in-memory repositories.

2. **EF Core Implementation:**
    * Implement `IDriverRepository`, `IResourceBookingService`, `IRouteRepository`, `ITripRepository`, and `IVehicleRepository` using Entity Framework Core.
    * Ensure all relationships between domain entities are correctly mapped in EF Core.
    * Configure all Enums to be mapped to the database as strings (conversions).
    * Do not create new entity classes only for mapping. Map existing domain classes directly and configure mapping with fluent api configuration.
    * consider value types as primitive types in EF Core.

3. **PostgreSQL 18 Support:**
    * Add support for PostgreSQL 18.
    * Add database indexes for the most frequent lookups.
    * Implement a mechanism to automatically apply EF migrations when the API starts.

4. **Containerization:**
    * Create a `Dockerfile` for `SpaceTruckers.Api`.
    * Create a `docker-compose.yml` file to run the API alongside a PostgreSQL 18 container and name the service for postgresql as db.
    * Add the corresponding connection string in `appsettings.json` (or environment variables) so the API connects successfully to the database in Docker.
    * Do not store any sensitive data in the appsettings.*.json files, use UserSecrets for development environment instead.

5. **Testing:**
    * Add **Testcontainers** to `SpaceTruckers.IntegrationTests`.
    * Configure the integration tests to spin up a PostgreSQL container so all tests pass against a real database instance.

6. **Documentation:**
    * Update `README.md` with clear instructions on how to install and operate the EF Core migration tool (`dotnet ef`).
    * Update `README.md` with clear instructions on how to toggle feature flag `UseDomainPersistentStorage` in appsettings.Development.json and in Azure App Configuration for other environments.
    * Update `README.md` with section Features and add description of UseDomainPersistentStorage feature. Describe what this feature does when enabled and when disabled.
